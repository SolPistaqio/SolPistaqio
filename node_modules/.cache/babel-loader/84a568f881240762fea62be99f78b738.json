{"ast":null,"code":"var _jsxFileName = \"/Users/sol/Documents/projects/react/Sol/portrolio/portfolio/src/components/Parks and weather/parks.js\";\nimport React from 'react';\n\nclass GetAPIDataForCity extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.getVenues = async city => {\n      const clientId = 'JR4J5UNKZQLHYDALGZA2FO2LUSNZRNKXZ5O5K2TWVST3PEYZ';\n      const clientSecret = 'OOEWMJ4EWHA3G1ABVY42QXLIXJ1XGN0UHWUTC05J0HXOOK5H';\n      const url = 'https://api.foursquare.com/v2/venues/explore?near='; //const city = $input.val();\n\n      const urlToFetch = url + city + '&limit=50&client_id=' + clientId + '&client_secret=' + clientSecret + '&v=20200225';\n      fetch(urlToFetch).then(response => {\n        if (response.ok) {\n          return response.json();\n        }\n\n        throw new Error('Request failed!');\n      }, networkError => {\n        console.log(networkError.message);\n      }).then(response => {\n        const venues = response.response.groups[0].items.map(item => item.venue);\n        console.log(venues);\n        return venues;\n      });\n    };\n\n    this.getForecast = async city => {\n      const openWeatherKey = '24baa893cee78ee225eca9d32759df14';\n      const weatherUrl = 'https://api.openweathermap.org/data/2.5/weather'; //const city = $input.val();\n\n      const urlToFetch = weatherUrl + '?q=' + city + '&APPID=' + openWeatherKey;\n\n      try {\n        const response = await fetch(urlToFetch);\n\n        if (response.ok) {\n          const jsonResponse = await response.json(); //console.log(jsonResponse);\n\n          return jsonResponse;\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    };\n  }\n\n  render() {\n    return React.createElement(RenderWalk, {\n      getForecast: this.getForecast,\n      getVenues: this.getVenues,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    });\n  }\n\n}\n\n;\n\nclass RenderWalk extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      city: 'Malta',\n      venues: [],\n      forecast: {},\n      searched: false\n    };\n    this.handleData = this.handleData.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleData(e) {\n    console.log(e.target.value);\n    const searchCity = e.target.value;\n    this.setState({\n      city: searchCity\n    });\n  }\n\n  handleClick(e) {\n    console.log(e.target.value);\n    this.props.getVenues(this.state.city).then(vResult => this.setState({\n      venues: vResult,\n      searched: true\n    }));\n  }\n\n  render() {\n    if (this.state.searched) {\n      console.log(this.state.venues);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, this.state.city, \" \"), React.createElement(RenderVenue, {\n        venues: this.state.venues,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }));\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        onChange: this.handleData,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        onClick: this.handleClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \"Search\"));\n    }\n  }\n\n}\n\n;\n\nclass RenderVenue extends React.Component {\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, this.props.venues[0].name);\n  }\n\n}\n\n;\nexport default GetAPIDataForCity;","map":{"version":3,"sources":["/Users/sol/Documents/projects/react/Sol/portrolio/portfolio/src/components/Parks and weather/parks.js"],"names":["React","GetAPIDataForCity","Component","getVenues","city","clientId","clientSecret","url","urlToFetch","fetch","then","response","ok","json","Error","networkError","console","log","message","venues","groups","items","map","item","venue","getForecast","openWeatherKey","weatherUrl","jsonResponse","error","render","RenderWalk","constructor","props","state","forecast","searched","handleData","bind","handleClick","e","target","value","searchCity","setState","vResult","RenderVenue","name"],"mappings":"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","sourcesContent":["import React from 'react';\n\nclass GetAPIDataForCity extends React.Component{\n    \n    getVenues = async(city)=>{\n        const clientId = 'JR4J5UNKZQLHYDALGZA2FO2LUSNZRNKXZ5O5K2TWVST3PEYZ';\n        const clientSecret = 'OOEWMJ4EWHA3G1ABVY42QXLIXJ1XGN0UHWUTC05J0HXOOK5H';\n        const url = 'https://api.foursquare.com/v2/venues/explore?near=';\n        //const city = $input.val();\n        const urlToFetch = url + city + '&limit=50&client_id='+ clientId + '&client_secret='+clientSecret+'&v=20200225';\n        fetch(urlToFetch).then(response => {\n            if (response.ok) {return response.json()\n            } \n              throw new Error('Request failed!');\n            \n          }, networkError => {\n            console.log(networkError.message)\n          }).then(response=>{\n                const venues = response.response.groups[0].items.map(item => item.venue);\n            console.log(venues);\n            return venues\n          })\n                \n            };\n      \n      getForecast = async(city) => {\n        const openWeatherKey = '24baa893cee78ee225eca9d32759df14';\n        const weatherUrl = 'https://api.openweathermap.org/data/2.5/weather';\n        //const city = $input.val();\n        const urlToFetch = weatherUrl +'?q='+city+'&APPID='+openWeatherKey;\n        try{\n        const response = await fetch(urlToFetch);\n          if (response.ok) {\n           const jsonResponse = await response.json();\n            //console.log(jsonResponse);\n            return jsonResponse;\n          }\n      }\n        catch(error) {\n          console.log(error)\n        }\n      }\n\n      \n\n      render(){\n        \n      return <RenderWalk getForecast={this.getForecast} getVenues={this.getVenues}/>\n      }\n};\n\nclass RenderWalk extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            city : 'Malta',\n            venues : [],\n            forecast : {},\n            searched: false\n      };\n      this.handleData=this.handleData.bind(this);\n      this.handleClick=this.handleClick.bind(this);\n      }\n      handleData(e){\n        console.log(e.target.value);\n        const searchCity = e.target.value;\n        this.setState({\n            city: searchCity\n        });\n      }\n      handleClick(e){\n        console.log(e.target.value); \n       this.props.getVenues(this.state.city).then(vResult =>\n        this.setState({\n            venues : vResult,\n            searched: true  \n              }));\n           \n      }\n    render(){\n\n        if(this.state.searched) {\n            console.log(this.state.venues);\n            return <div> \n                <h3>{this.state.city} </h3>\n                <RenderVenue venues={this.state.venues}/>\n            </div>\n        } else {\n            return <div>\n            <input onChange={this.handleData} />\n            <button onClick={this.handleClick}>Search</button>\n            </div>\n    }}\n\n};\n\n\nclass RenderVenue extends React.Component{\nrender(){\n    return <div>\n        {this.props.venues[0].name}\n    </div>\n}\n};\nexport default GetAPIDataForCity;\n"]},"metadata":{},"sourceType":"module"}