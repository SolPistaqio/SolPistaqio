{"ast":null,"code":"function getVenues(city) {\n  const clientId = 'JR4J5UNKZQLHYDALGZA2FO2LUSNZRNKXZ5O5K2TWVST3PEYZ';\n  const clientSecret = 'OOEWMJ4EWHA3G1ABVY42QXLIXJ1XGN0UHWUTC05J0HXOOK5H';\n  const url = 'https://api.foursquare.com/v2/venues/explore?near='; //const city = $input.val();\n\n  const urlToFetch = url + city + '&limit=50&client_id=' + clientId + '&client_secret=' + clientSecret + '&v=20200225';\n  return fetch(urlToFetch).then(response => {\n    if (response.ok) {\n      return response.json();\n    } //throw new Error('Request failed!');\n\n\n    return {};\n  }, networkError => {\n    console.log(networkError.message);\n  }).then(response => {\n    //console.log(response);\n    if (response.response //.groups[0]\n    ) {\n        const venues = response.response.groups[0].items.map(item => item.venue);\n        const parks = venues.filter(venue => venue.categories[0].name === \"Park\" || venue.categories[0].name === \"Trail\");\n        return parks;\n      }\n  });\n}\n\n;\n\nfunction getPhotos(venueID) {\n  const clientId = 'JR4J5UNKZQLHYDALGZA2FO2LUSNZRNKXZ5O5K2TWVST3PEYZ';\n  const clientSecret = 'OOEWMJ4EWHA3G1ABVY42QXLIXJ1XGN0UHWUTC05J0HXOOK5H';\n  const url = 'https://api.foursquare.com/v2/venues/' + venueID + '/photos';\n  const urlToFetch = url + '?limit=1&client_id=' + clientId + '&client_secret=' + clientSecret + '&v=20200225';\n  return fetch(urlToFetch).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    throw new Error('Request failed!');\n  }, networkError => {\n    console.log(networkError.message);\n  }).then(jsonResponse => {\n    //console.log(jsonResponse);\n    return jsonResponse;\n  }).then(jsonResponse => {\n    if (jsonResponse.response.photos.count > 0) {\n      const photo = jsonResponse.response.photos.items[0].prefix + '300x500' + jsonResponse.response.photos.items[0].suffix; //console.log(photo);\n\n      return photo;\n    } else console.log('No photo found for venue N 1');\n\n    return '';\n  });\n}\n\nfunction getForecast(city) {\n  const openWeatherKey = '24baa893cee78ee225eca9d32759df14';\n  const weatherUrl = 'https://api.openweathermap.org/data/2.5/weather'; //const city = $input.val();\n\n  const urlToFetch = weatherUrl + '?q=' + city + '&APPID=' + openWeatherKey;\n  return fetch(urlToFetch).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    return {};\n  }, networkError => {\n    console.log(networkError.message);\n  }).then(jsonResponse => {\n    // console.log(jsonResponse);\n    return jsonResponse;\n  });\n  /* return fetch(urlToFetch).then(response => {\n     if(response.ok) {\n       return response\n     } return {}\n   }, networkError => {\n     console.log(networkError.message)\n   }).then(response => {\n     if(response.status === 200){\n       console.log(response);\n     return response.json()}\n     else {\n       return {}\n     }\n   })*/\n}\n\nexport { getForecast, getVenues, getPhotos };","map":{"version":3,"sources":["/Users/sol/Documents/projects/react/Sol/portrolio/portfolio/src/components/Parks and weather/apisearch.js"],"names":["getVenues","city","clientId","clientSecret","url","urlToFetch","fetch","then","response","ok","json","networkError","console","log","message","venues","groups","items","map","item","venue","parks","filter","categories","name","getPhotos","venueID","Error","jsonResponse","photos","count","photo","prefix","suffix","getForecast","openWeatherKey","weatherUrl"],"mappings":"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","sourcesContent":["\n function getVenues(city) {\n  const clientId = 'JR4J5UNKZQLHYDALGZA2FO2LUSNZRNKXZ5O5K2TWVST3PEYZ';\n  const clientSecret = 'OOEWMJ4EWHA3G1ABVY42QXLIXJ1XGN0UHWUTC05J0HXOOK5H';\n  const url = 'https://api.foursquare.com/v2/venues/explore?near=';\n  //const city = $input.val();\n  const urlToFetch = url + city + '&limit=50&client_id='+ clientId + '&client_secret='+clientSecret+'&v=20200225';\n  return fetch(urlToFetch).then(response => {\n      if (response.ok) {return response.json()\n      } \n      //throw new Error('Request failed!');\n      return {}\n    }, networkError => {\n      console.log(networkError.message)\n    }).then(response=>{\n      //console.log(response);\n      if(response.response\n        //.groups[0]\n        ){\n          const venues = response.response.groups[0].items.map(item => item.venue);\n          const parks = venues.filter(venue => venue.categories[0].name ===\"Park\" || venue.categories[0].name ===\"Trail\" );\n      return parks}\n    })    \n      };\n  function getPhotos (venueID) {\n    const clientId = 'JR4J5UNKZQLHYDALGZA2FO2LUSNZRNKXZ5O5K2TWVST3PEYZ';\n    const clientSecret = 'OOEWMJ4EWHA3G1ABVY42QXLIXJ1XGN0UHWUTC05J0HXOOK5H';\n    const url = 'https://api.foursquare.com/v2/venues/'+venueID+'/photos';\n    const urlToFetch = url  + '?limit=1&client_id='+ clientId + '&client_secret='+clientSecret+'&v=20200225';\n    return fetch(urlToFetch).then(response => {\n      if (response.ok) {\n        return response.json()\n      } \n        throw new Error('Request failed!');\n      \n    }, networkError => {\n      console.log(networkError.message)\n    }).then(jsonResponse=>{\n      //console.log(jsonResponse);\n      return jsonResponse\n    }).then(jsonResponse=>{\n      if (jsonResponse.response.photos.count >0 ){\n      const photo = jsonResponse.response.photos.items[0].prefix + '300x500' + jsonResponse.response.photos.items[0].suffix;\n      //console.log(photo);\n      return photo}\n    else console.log('No photo found for venue N 1')\n  return ''})\n  }\n\n\n      \n      function getForecast (city){\n        const openWeatherKey = '24baa893cee78ee225eca9d32759df14';\n        const weatherUrl = 'https://api.openweathermap.org/data/2.5/weather';\n        //const city = $input.val();\n        const urlToFetch = weatherUrl +'?q='+city+'&APPID='+openWeatherKey;\n      \n        return fetch(urlToFetch).then(response => {\n          if (response.ok) {\n            return response.json()\n          } \n          return {}\n          \n        }, networkError => {\n          console.log(networkError.message)\n        }).then(jsonResponse=>{\n         // console.log(jsonResponse);\n          return jsonResponse\n        })\n        \n       /* return fetch(urlToFetch).then(response => {\n          if(response.ok) {\n            return response\n          } return {}\n        }, networkError => {\n          console.log(networkError.message)\n        }).then(response => {\n          if(response.status === 200){\n            console.log(response);\n          return response.json()}\n          else {\n            return {}\n          }\n        })*/\n        \n      }\n\n\nexport {getForecast, getVenues, getPhotos}\n"]},"metadata":{},"sourceType":"module"}