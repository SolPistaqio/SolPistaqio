{"ast":null,"code":"var _jsxFileName = \"/Users/sol/Documents/projects/react/Sol/portrolio/portfolio/src/components/Infograph/infograph.js\";\nimport React, { Component } from 'react';\nimport { Line } from 'react-chartjs-2'; //import { defaults } from 'react-chartjs-2';\n//import { render } from '@testing-library/react';\n\nconst apiKey = 'H02HDVYAO5KH6A0E';\nconst numberNeeded = 20;\nconst sample = {\n  'Meta Data': {\n    Information: \"Daily Prices and Volumes for Digital Currency\",\n    'Digital Currency Code': \"ETH\",\n    'Digital Currency Name': \"Ethereum\",\n    'Market Code': \"USD\",\n    'Market Name': \"United States Dollar\",\n    'Last Refreshed': \"2020-04-10 00:00:00\",\n    'Time Zone': \"UTC\"\n  },\n  'Time Series (Digital Currency Daily)': {\n    '2020-04-10': {\n      '1a. open (USD)': \"169.56000000\"\n    },\n    '2020-04-09': {\n      '1a. open (USD)': \"173.15000000\"\n    },\n    '2020-04-08': {\n      '1a. open (USD)': \"164.62000000\"\n    }\n  }\n};\n\nfunction getStockdata(crypto, currency) {\n  const url = 'https://www.alphavantage.co/query?function=DIGITAL_CURRENCY_DAILY&symbol=' + crypto + '&market=' + currency + '&apikey=' + apiKey;\n  return fetch(url).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    throw new Error('Request failed!');\n  }, networkError => {\n    console.log(networkError.message);\n  }).then(jsonResponse => {\n    console.log(jsonResponse);\n    return jsonResponse;\n  });\n}\n\n;\n\nclass Infograph extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      chartData: {\n        labels: Object.keys(sample['Time Series (Digital Currency Daily)']).reverse().slice(0, numberNeeded),\n        datasets: [{\n          label: sample['Meta Data']['Digital Currency Name'],\n          data: Object.values(sample['Time Series (Digital Currency Daily)']).map(value => {\n            return value['1a. open (USD)'];\n          }).reverse().slice(0, numberNeeded)\n        }]\n      }\n    };\n  }\n\n  render() {\n    console.log(); //getStockdata('ETH','USD');\n\n    return React.createElement(\"div\", {\n      className: \"chart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(Line, {\n      data: this.state.chartData,\n      options: {\n        title: {\n          display: true,\n          text: sample['Meta Data']['Market Name'] + '/' + sample['Meta Data']['Digital Currency Name'],\n          fontSize: 25\n        },\n        legend: {\n          display: false,\n          position: 'left'\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"Get data\"));\n  }\n\n}\n\n;\n\nclass Coolchart extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: {}\n    };\n    this.handleSearch = this.handleSearch.bind(this);\n  }\n\n  handleSearch(crypto, currency) {\n    getStockdata(crypto, currency).then(response => this.setState({\n      data: response\n    }));\n  }\n\n  render() {\n    return React.createElement(Infograph, {\n      data: this.state.data,\n      search: this.handleSearch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default Infograph;","map":{"version":3,"sources":["/Users/sol/Documents/projects/react/Sol/portrolio/portfolio/src/components/Infograph/infograph.js"],"names":["React","Component","Line","apiKey","numberNeeded","sample","Information","getStockdata","crypto","currency","url","fetch","then","response","ok","json","Error","networkError","console","log","message","jsonResponse","Infograph","constructor","props","state","chartData","labels","Object","keys","reverse","slice","datasets","label","data","values","map","value","render","title","display","text","fontSize","legend","position","Coolchart","handleSearch","bind","setState"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Line} from 'react-chartjs-2';\n//import { defaults } from 'react-chartjs-2';\n//import { render } from '@testing-library/react';\n\nconst apiKey = 'H02HDVYAO5KH6A0E';\n\nconst numberNeeded = 20;\n\nconst sample = {\n    'Meta Data':\n    {Information: \"Daily Prices and Volumes for Digital Currency\",\n    'Digital Currency Code': \"ETH\",\n    'Digital Currency Name': \"Ethereum\",\n    'Market Code': \"USD\",\n    'Market Name': \"United States Dollar\",\n    'Last Refreshed': \"2020-04-10 00:00:00\",\n    'Time Zone': \"UTC\"},\n'Time Series (Digital Currency Daily)':\n    {'2020-04-10': {'1a. open (USD)': \"169.56000000\"},\n    '2020-04-09': {'1a. open (USD)': \"173.15000000\"},\n    '2020-04-08':{'1a. open (USD)': \"164.62000000\"}}\n};\n\n\n\nfunction getStockdata(crypto ,currency) {\n    const url = 'https://www.alphavantage.co/query?function=DIGITAL_CURRENCY_DAILY&symbol='+crypto+'&market='+currency+'&apikey=' + apiKey\n    return fetch(url).then(response => {\n        if (response.ok) {\n          return response.json()\n        } \n          throw new Error('Request failed!');\n        \n      }, networkError => {\n        console.log(networkError.message)\n      }).then(jsonResponse=>{\n        console.log(jsonResponse);\n        return jsonResponse\n      })};\n\n\nclass Infograph extends Component {\nconstructor (props) {\n    super(props);\n    this.state = {\n        chartData: {\n           labels:  Object. keys(sample['Time Series (Digital Currency Daily)']).reverse().slice(0,numberNeeded),\n           datasets: [{\n            label: sample['Meta Data']['Digital Currency Name'],\n            data: Object.values(sample['Time Series (Digital Currency Daily)']).map(value => {return value['1a. open (USD)']}).reverse().slice(0,numberNeeded),\n           } ]\n        }\n    }\n}\nrender() {\n    console.log();\n  //getStockdata('ETH','USD');\n    return (\n        <div className=\"chart\">\n            <Line \n                data= {this.state.chartData}\n            \n                options = {{\n                    title: {\n                        display: true,\n                        text: sample['Meta Data']['Market Name']+'/'+sample['Meta Data']['Digital Currency Name'],\n                        fontSize: 25\n                    },\n                    legend: {\n                       display: false,\n                       position: 'left'\n                    }\n                }}\n            \n            \n            />\n        <button>Get data</button>\n        </div>\n    )\n}\n};\n\nclass Coolchart extends React.Component{\n    constructor (props) {\n        super(props);\n        this.state = {\n            data:{}\n        }\n    this.handleSearch = this.handleSearch.bind(this)\n    }\n    handleSearch(crypto ,currency){\n       getStockdata(crypto ,currency).then(response => this.setState({\n           data: response\n       }))\n    }\n    render() {\n      return <Infograph data={this.state.data} search={this.handleSearch}/>\n    }\n}\nexport default Infograph;"]},"metadata":{},"sourceType":"module"}